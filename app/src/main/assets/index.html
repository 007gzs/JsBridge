<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JsBridge测试Demo</title>
</head>
<body>
<style type="text/css">
    * {
        margin: 0;
        padding: 0;
    }

    ul > li {
        display: block;
        text-align: center;
        list-style: none;
        background: #ccc;
        margin: 10px;
        padding: 8px;
    }
</style>
<ul id="ul">
    <li id="setMenu">设置菜单</li>
    <li id="setTitleColor">设置标题栏颜色</li>
    <li id="alertDialog">弹出Dialog</li>
    <li id="getSdkVersion">获取sdk版本</li>
    <li id="async_data">异步回调数据</li>
</ul>
<script type="text/javascript">
    var ul = document.getElementById("ul");
    var li = ul.getElementsByTagName("li");
    for (var i = 0; i < li.length; i++) {
        li[i].index = i;
        li[i].onclick = function () {
            switch (this.index) {
                case 0:
                    MyBridge.service.addNavIcon({
                        data: '我是来自网页的按钮', onListener: function (res) {
                            alert('点击按钮了，数据是:' + res)
                        }
                    });
                    break;
                case 1:
                    MyBridge.service.setTitleBackground('#ffff00');
                    break;
                case 2:
                    MyBridge.service.alertDialog({
                        data: '德玛西亚', onListener: function (res) {
                            alert(res)
                        }
                    });
                    break;
                case 3:
                    alert(window.MyBridge.sdk.getVersion());
                    break;
                case 4:
                    window.MyBridge.service.getTicket({
                        data: 'aaabbccc',
                        onListener: function (res) {
                            alert('延迟5s回调数据:' + res)
                        }
                    });
                    break;
                default:
                    break;
            }
        }
    }
    window.onMyBridgeReady = function () {
        console.log("MyBridge初始化完毕");
        window.MyBridge.service.getTicket({
                        data: 'aaabbccc',
                        onListener: function (res) {
                            alert('1延迟5s回调数据:' + res)
                        }
                    });
                    window.MyBridge.service.getTicket({
                        data: 'xxxxxxx',
                        onListener: function (res) {
                            alert('2延迟5s回调数据:' + res)
                        }
                    });
    }

</script>
</body>
</html>