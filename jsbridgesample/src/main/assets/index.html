<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JsBridge测试Demo</title>
</head>
<body>
<button id="btn_add_menu">点击添加菜单</button>
<script type="text/javascript">
    window.onMyBridgeReady = function () {
        console.log('onMyBridgeReady ready');
        //MyBridge.share.hiShare(2.5, 'hello world', function(x,y){console.log('receiver callback!!' + x + y)},
        //function(){console.log('second call')});

        MyBridge.share.ajax({
            url:'http://api.map.baidu.com/geocoder',
            type:'GET',
            data:'location=30.990998,103.645966&output=json&key=28bcdd84fae25699606ffad27f8da77b',
            success:function(data){
                console.log('success => ' + data);
            },
            error:function(error){
                console.error('error => ' + error);
            }
        });

        document.getElementById('btn_add_menu').onclick = function () {
            MyBridge.native.setNavMenu({
                data: '我是来自网页的按钮',
                onListener: function (res) {
                    alert('点击按钮了，按钮名称是:' + res)
                },
                onSuccess: function(msg){
                    alert(msg)
                }
            });
        }
    }
</script>
</body>
</html>